<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Hypermedia driven Web APIs.">
        
        
        <link rel="shortcut icon" href="./img/favicon.ico">

        <title>Core API</title>

        <link href="./css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="./css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="./css/highlight.css">
        <link href="./css/extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body class="homepage">

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href=".">Core API</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Specification <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="specification/document/">The document layer</a>
                            </li>
                        
                            <li >
                                <a href="specification/encoding/">The encoding layer</a>
                            </li>
                        
                            <li >
                                <a href="specification/transport/">The transport layer</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tools & resources <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="tools-and-resources/command-line-client/">The command line client</a>
                            </li>
                        
                            <li >
                                <a href="tools-and-resources/example-services/">Example services</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li class="disabled">
                    <a rel="next" >
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="specification/document/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/core-api/core-api/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#core-api">Core API</a></li>
        
            <li><a href="#examples">Examples</a></li>
        
            <li><a href="#overview">Overview</a></li>
        
            <li><a href="#get-involved">Get involved</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="core-api"><a href="http://www.coreapi.org/">Core API</a></h1>
<hr />
<p>Core API is a format-independent <strong>Document Object Model</strong> for representing Web APIs.</p>
<p>It can be used to represent <strong>either Schema or Hypermedia responses</strong>, and allows you
to interact with an API at the layer of an application interface, rather than a network interface.</p>
<p>Core API currently has implementations available for <strong>Core JSON</strong>, <strong>Open API/Swagger</strong>,
<strong>HAL</strong>, and <strong>JSON Hyper-Schema</strong>.</p>
<p>There is a <strong>command line tool</strong> that you can use to interact with APIs exposing
any of these formats, as well as a <strong>Python client library</strong>.</p>
<p>Using a Core API client is a more <strong>robust</strong> and <strong>meaningful</strong> way to interact with
your API than constructing HTTP requests and decoding responses. The dynamic client library
is always up to date with the API, and client code focuses solely on the interface being provided,
rather that dealing with network details and encodings.</p>
<hr />
<h2 id="examples">Examples</h2>
<p>Core API can be used to interact with any API that exposes a supported Schema or Hypermedia format.</p>
<p>There are various examples of <a href=".//tools-and-resources/example-services/">using Core API as a client against existing APIs</a>.</p>
<h4 id="hypermedia-services">Hypermedia services</h4>
<p>Below are two hypermedia style services available for demonstrating Core API.</p>
<p>You can interact with these example services either directly through your browser, by installing the command-line client, or by using one of the client libraries.</p>
<ul>
<li><strong>Notes</strong> - Create, update and delete items from a list of notes. <a href="http://notes.coreapi.org/">http://notes.coreapi.org/</a></li>
<li><strong>Game</strong> - Find the treasure in 5 turns or less. <a href="http://game.coreapi.org/">http://game.coreapi.org/</a></li>
</ul>
<p>Note that because Core API can be used to provide multiple different output formats,
it can also be used to provide <strong>APIs that can be interacted with directly in the
browser</strong>, by returning an HTML rendered format of the API response.</p>
<h4 id="using-a-core-api-client">Using a Core API client</h4>
<p>Let's try interacting with the "Game" service using the command line client.</p>
<p>In this example, you have have 5 guesses to try to find the position of the hidden treasure in a 3x3 grid.</p>
<p>First make sure to <a href="https://www.python.org/downloads/">install Python</a>, then...</p>
<pre><code class="bash">$ pip install coreapi-cli  # Use Python's package manager `pip` to install the command-line client.
$ coreapi get http://game.coreapi.org/
&lt;Home &quot;http://game.coreapi.org/&quot;&gt;
    new_game()
$ coreapi action new_game
&lt;Game &quot;http://game.coreapi.org/dee07521-6862-4744-95ec-812db90135bd&quot;&gt;
    board: &quot;...a
            ...b
            ...c
            123&quot;
    description: &quot;5 turns remaining.&quot;
    new_game()
    play([position])
$ coreapi action play --param position=b3
&lt;Game &quot;http://game.coreapi.org/dee07521-6862-4744-95ec-812db90135bd&quot;&gt;
    board: &quot;...a
            ..xb
            ...c
            123&quot;
    description: &quot;4 turns remaining.&quot;
    new_game()
    play([position])
</code></pre>

<hr />
<h2 id="overview">Overview</h2>
<p>There are three layers to the Core API specification.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://www.coreapi.org/specification/document/">Document layer</a></td>
<td>The abstract object interface that clients interact with.</td>
</tr>
<tr>
<td><a href="http://www.coreapi.org/specification/encoding/">Encoding layer</a></td>
<td>The mapping between a Document and a byte string.</td>
</tr>
<tr>
<td><a href="http://www.coreapi.org/specification/transport/">Transport layer</a></td>
<td>How document interactions are mapped to network requests.</td>
</tr>
</tbody>
</table>
<p>The following is an brief overview of the document layer, demonstrating how the client interacts with a Core API interface.</p>
<h4 id="document">Document</h4>
<p>Documents are the basic building blocks of Core API.</p>
<p>Documents are key-value pairs that contain the data and actions presented by the interface. Documents always have an associated URL, and should also have a title.</p>
<p>The top level element in any Core API interface is always a Document.</p>
<p>Let's take a look at a Core API document by using the command line client.</p>
<pre><code class="bash">$ pip install coreapi
$ coreapi get http://notes.coreapi.org/
&lt;Notes &quot;http://notes.coreapi.org/&quot;&gt;
    notes: [
        &lt;Note &quot;http://notes.coreapi.org/123d4e35-cb09-40c3-98d3-d119e9079fca&quot;&gt;
            complete: true
            description: &quot;Do the weekly shopping&quot;
            delete()
            edit([description], [complete]),
        &lt;Note &quot;http://notes.coreapi.org/0ace0b3b-9db2-4c10-989e-76c5c61265e7&quot;&gt;
            complete: false
            description: &quot;Fix the kitchen door&quot;
            delete()
            edit([description], [complete])
    ]
    add_note(description)
</code></pre>

<p>We've got a document here that contains a couple of other nested documents. We can also see the actions and data that the interface exposes.</p>
<h4 id="links">Links</h4>
<p>Links are the available points of interaction that the interface presents.</p>
<p>Links have an associated URL and action, and may accept a set of named parameters.</p>
<p>Core API also has a concept of in-place transformations. Links that are marked as
in-place effect a partial transformation on the document, modifying or removing the nested document from the document tree. The 'put', 'patch' and 'delete' actions default to being in-place.</p>
<p>Let's return to the command line client, and take a look at calling some links.
We'll start by removing an existing note:</p>
<pre><code class="bash">$ coreapi action notes 0 delete
&lt;Notes &quot;http://notes.coreapi.org/&quot;&gt;
    notes: [
        &lt;Note &quot;http://notes.coreapi.org/123d4e35-cb09-40c3-98d3-d119e9079fca&quot;&gt;
            complete: true
            description: &quot;Do the weekly shopping&quot;
            delete()
            edit([description], [complete])
    ]
    add_note(description)
</code></pre>

<p>Let's remove the final remaining note.</p>
<pre><code class="bash">$ coreapi action notes 0 delete
&lt;Notes &quot;http://notes.coreapi.org/&quot;&gt;
    notes: []
    add_note(description)
</code></pre>

<p>There should now be no notes remaining.</p>
<p>Okay, let's create a new note. In this case we'll want to include a named parameter
when acting on the link.</p>
<pre><code class="bash">$ coreapi action add_note --params description=&quot;Email venue about conference dates&quot;
&lt;Notes &quot;http://notes.coreapi.org/&quot;&gt;
    notes: [
        &lt;Note &quot;http://notes.coreapi.org/e7785f34-2b74-41d2-ab3f-f754f688987c/&quot;&gt;
            complete: false
            description: &quot;Email venue about conference dates&quot;
            delete()
            edit([description], [complete])
    ]
    add_note(description)
</code></pre>

<p>Finally we'll update the state of the note we've just created:</p>
<pre><code class="bash">$ coreapi action notes 0 edit --params complete=true
&lt;Notes &quot;http://notes.coreapi.org/&quot;&gt;
    notes: [
        &lt;Note &quot;http://notes.coreapi.org/e7785f34-2b74-41d2-ab3f-f754f688987c/&quot;&gt;
            complete: true
            description: &quot;Email venue about conference dates&quot;
            delete()
            edit([description], [complete])
    ]
    add_note(description)
</code></pre>

<h4 id="data-primitives">Data primitives</h4>
<p>Data primitives are the set of basic datatypes that may be used to represent data in the interface.</p>
<p>Core API supports the same subset of data primitives as JSON. These are Object, Array, String, Integer, Number, <code>true</code>, <code>false</code>, and <code>null</code>.</p>
<pre><code class="bash">$ coreapi show notes 0 description
&quot;Email venue about conference dates&quot;
$ coreapi show notes 0 complete
true
</code></pre>

<h4 id="errors">Errors</h4>
<p>Following a link may result in an error. An error is a set of key-value pairs, which is used to represent any error information associated with the failed transition.</p>
<p>Encountering an error prevents any transition from taking place, and will normally be represented by an exception or other error status by the client library.</p>
<p>For example, in this case the server responds with an error when we fail to include a parameter:</p>
<pre><code class="bash">$ coreapi action add_note
&lt;Error: Invalid parameters&gt;
    description: [
        &quot;This field is required.&quot;
    ]
</code></pre>

<p>In this case the server responds with an error when we include an invalid parameter:</p>
<pre><code class="bash">$ coreapi action add_note -p description='xxxxxxxxx-xxxxxxxxx-xxxxxxxxx-xxxxxxxxx-xxxxxxxxx-xxxxxxxxx-xxxxxxxxx-xxxxxxxxx-xxxxxxxxx-xxxxxxxxx-xxx'
&lt;Error: Invalid parameters&gt;
description: [
    &quot;Ensure this field has no more than 100 characters.&quot;
]
</code></pre>

<hr />
<h2 id="get-involved">Get involved</h2>
<p>For news and updates follow <a href="https://twitter.com/core_api">@core-api</a>, or <a href="https://twitter.com/_tomchristie">@_tomchristie</a>.</p>
<p>For discussion of the tools and specification, use the <a href="https://groups.google.com/forum/#!forum/hypermedia-web">Hypermedia Web mailing list</a>.</p>
</div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Copyright &copy; 2015, <a href="https://twitter.com/_tomchristie">Tom Christie</a>.</p>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap-3.0.3.min.js"></script>
        <script src="./js/prettify-1.0.min.js"></script>
        <script src="./js/highlight.pack.js"></script>
        <script src="./js/base.js"></script>
    </body>
</html>
